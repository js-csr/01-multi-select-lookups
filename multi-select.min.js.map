{"version":3,"sources":["jslink-helper.js","multi-select-jslink.js"],"names":["PoC","OverrdieType","Edit","New","Display","View","JSLink","_this","this","addOverride","fieldName","type","callback","_overrides","hasOwnProperty","register","csr","Templates","Fields","console","log","SPClientTemplates","TemplateManager","RegisterTemplateOverrides","MultiSelectLookup","init","link","edit","ctx","formCtx","Utility","GetFormContextForCurrentField","lookupValues","CurrentItem","fieldSchema","i","length","lookupId","lookupValue","Choices","registerGetValueCallback","getMultiValue","bind"],"mappings":"AAAA,GAAAA,MACA,SAAAA,GACA,GAAAC,GAAA,WACA,QAAAA,MAMA,MAJAA,GAAAC,KAAA,WACAD,EAAAE,IAAA,UACAF,EAAAG,QAAA,cACAH,EAAAI,KAAA,OACAJ,IAEAD,GAAAC,aAAAA,CACA,IAAAK,GAAA,WACA,QAAAA,KACA,GAAAC,GAAAC,IACAA,MAAAC,YAAA,SAAAC,EAAAC,EAAAC,GACAL,EAAAM,WAAAC,eAAAJ,KACAH,EAAAM,WAAAH,OACAH,EAAAM,WAAAH,GAAAC,GAAAC,GAEAJ,KAAAO,SAAA,WACA,GAAAC,KACAA,GAAAC,aACAD,EAAAC,UAAAC,OAAAX,EAAAM,WACAM,QAAAC,IAAA,WAAAb,EAAAM,WAAAG,GACAK,kBAAAC,gBAAAC,0BAAAP,IAEAR,KAAAK,cAEA,MAAAP,KAEAN,GAAAM,OAAAA,GACAN,MAAAA,QChCA,IAAAA,MACA,SAAAA,GACA,GAAAwB,GAAA,WACA,QAAAA,KACA,GAAAjB,GAAAC,IACAA,MAAAiB,KAAA,WACA,GAAAC,GAAA,GAAA1B,GAAAM,MACAoB,GAAAjB,YAAA,OAAAT,EAAAC,aAAAC,KAAAK,EAAAoB,MACAD,EAAAX,YAEAP,KAAAmB,KAAA,SAAAC,GAIA,IAAA,GAHAC,GAAAR,kBAAAS,QAAAC,8BAAAH,GAEAI,GADAJ,EAAA,YACAA,EAAAK,YAAAJ,EAAAK,YAAAxB,YACAyB,EAAA,EAAAA,EAAAH,EAAAI,OAAAD,IACAhB,QAAAC,IAAAY,EAAAG,GAAAE,SAAAL,EAAAG,GAAAG,YACAnB,SAAAC,IAAAS,EAAAK,YAAAK,SACAV,EAAAW,yBAAAX,EAAAnB,UAAAH,EAAAkC,cAAAC,KAAA,KAAAb,EAAAnB,aAEAF,KAAAiC,cAAA,SAAA/B,GAEA,MADAS,SAAAC,IAAA,gBAAAV,GACA,qBAGA,MAAAc,KAEAxB,GAAAwB,kBAAAA,GACAxB,MAAAA,SACA,YACA,GAAAA,KAAAwB,mBAAAC","file":"multi-select.min.js","sourcesContent":["var PoC;\n(function (PoC) {\n    var OverrdieType = (function () {\n        function OverrdieType() {\n        }\n        OverrdieType.Edit = \"EditForm\";\n        OverrdieType.New = \"NewForm\";\n        OverrdieType.Display = \"DisplayForm\";\n        OverrdieType.View = \"View\";\n        return OverrdieType;\n    }());\n    PoC.OverrdieType = OverrdieType;\n    var JSLink = (function () {\n        function JSLink() {\n            var _this = this;\n            this.addOverride = function (fieldName, type, callback) {\n                if (!_this._overrides.hasOwnProperty(fieldName))\n                    _this._overrides[fieldName] = {};\n                _this._overrides[fieldName][type] = callback;\n            };\n            this.register = function () {\n                var csr = {};\n                csr.Templates = {};\n                csr.Templates.Fields = _this._overrides;\n                console.log(\"register\", _this._overrides, csr);\n                SPClientTemplates.TemplateManager.RegisterTemplateOverrides(csr);\n            };\n            this._overrides = {};\n        }\n        return JSLink;\n    }());\n    PoC.JSLink = JSLink;\n})(PoC || (PoC = {}));\n","var PoC;\n(function (PoC) {\n    var MultiSelectLookup = (function () {\n        function MultiSelectLookup() {\n            var _this = this;\n            this.init = function () {\n                var link = new PoC.JSLink();\n                link.addOverride(\"Orgs\", PoC.OverrdieType.Edit, _this.edit);\n                link.register();\n            };\n            this.edit = function (ctx) {\n                var formCtx = SPClientTemplates.Utility.GetFormContextForCurrentField(ctx);\n                var item = ctx['CurrentItem'];\n                var lookupValues = ctx.CurrentItem[formCtx.fieldSchema.fieldName];\n                for (var i = 0; i < lookupValues.length; i++)\n                    console.log(lookupValues[i].lookupId, lookupValues[i].lookupValue);\n                console.log(formCtx.fieldSchema.Choices);\n                formCtx.registerGetValueCallback(formCtx.fieldName, _this.getMultiValue.bind(null, formCtx.fieldName));\n            };\n            this.getMultiValue = function (fieldName) {\n                console.log('getMultiValue', fieldName);\n                return '4;#CRM;#2;#Pharma';\n            };\n        }\n        return MultiSelectLookup;\n    }());\n    PoC.MultiSelectLookup = MultiSelectLookup;\n})(PoC || (PoC = {}));\n(function () {\n    new PoC.MultiSelectLookup().init();\n})();\n"],"sourceRoot":"/source/"}